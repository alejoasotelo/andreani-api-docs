"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7317],{7317:(e,t,r)=>{r.r(t),r.d(t,{OauthDialog:()=>u,OauthDialogTrigger:()=>f});var n=r(95155),a=r(73630),l=r(62177),o=r(82874),i=r(57746),s=r(12115),d=r(39688),c=r(36059);function u({flow:e,scheme:t,setToken:r,children:u}){let[f,p]=(0,s.useState)(!1),m=(0,l.mN)({defaultValues:{clientId:"",clientSecret:""}}),g=(0,i.I)(async(e,n)=>{let a=t.flows.authorizationCode,l=await fetch(a.tokenUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:n.redirect_uri,client_id:n.client_id,client_secret:n.client_secret})});if(!l.ok)throw Error(await l.text());let{access_token:o}=await l.json();r(o),p(!1)});(0,s.useEffect)(()=>{let t=new URLSearchParams(window.location.search),r=t.get("code"),n=t.get("state");if(!r||!n||"authorizationCode"!==e)return;let a=JSON.parse(n);p(!0),m.setValue("clientId",a.client_id),m.setValue("clientSecret",a.client_secret),g.start(r,a),window.history.replaceState(null,"",window.location.pathname)},[]);let h=(0,i.I)(async r=>{if("authorizationCode"===e){let n=t.flows[e],a=new URLSearchParams;a.set("response_type","code"),a.set("client_id",r.clientId),a.set("redirect_uri",window.location.href),a.set("scope",Object.keys(n.scopes).join("+")),a.set("state",JSON.stringify({client_id:r.clientId,client_secret:r.clientSecret,redirect_uri:window.location.href})),window.location.replace(`${n.authorizationUrl}?${a.toString()}`)}if("clientCredentials"===e){let r=t.flows[e];await fetch(r.tokenUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"client_credentials",scope:Object.keys(r.scopes).join("+")})})}}),x=m.handleSubmit(e=>h.start(e)),w=h.isLoading||g.isLoading;return(0,n.jsxs)(a.lG,{open:f,onOpenChange:p,children:[u,(0,n.jsxs)(a.Cf,{children:[(0,n.jsxs)(a.c7,{children:[(0,n.jsx)(a.L3,{children:"Authorization"}),(0,n.jsx)(a.rr,{children:"Obtain the access token for API."})]}),(0,n.jsxs)("form",{className:"flex flex-col gap-6",onSubmit:x,children:[("authorizationCode"===e||"clientCredentials"===e)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("fieldset",{className:"flex flex-col gap-1.5",children:[(0,n.jsx)("label",{htmlFor:"client_id",className:(0,d.QP)((0,o.I)()),children:"Client ID"}),(0,n.jsx)("p",{className:"text-fd-muted-foreground text-sm",children:"The client ID of your OAuth application."}),(0,n.jsx)(o.p,{id:"client_id",placeholder:"Enter value",type:"text",disabled:w,...m.register("clientId",{required:!0})})]}),(0,n.jsxs)("fieldset",{className:"flex flex-col gap-1.5",children:[(0,n.jsx)("label",{htmlFor:"client_secret",className:(0,d.QP)((0,o.I)()),children:"Client Secret"}),(0,n.jsx)("p",{className:"text-fd-muted-foreground text-sm",children:"The client secret of your OAuth application."}),(0,n.jsx)(o.p,{id:"client_secret",placeholder:"Enter value",type:"password",disabled:w,...m.register("clientSecret",{required:!0})})]})]}),g.error?(0,n.jsx)("p",{className:"text-red-400 font-medium text-sm",children:String(g.error)}):null,(0,n.jsx)("button",{disabled:w,className:(0,d.QP)((0,c.r)({color:"primary"})),children:g.isLoading?"Fetching token...":"Submit"})]})]})]})}let f=a.zM},15452:(e,t,r)=>{r.d(t,{Cf:()=>A,L3:()=>G,LC:()=>E,UC:()=>er,VY:()=>ea,ZL:()=>ee,bL:()=>K,bm:()=>el,hE:()=>en,hJ:()=>et,l9:()=>X,lG:()=>C});var n=r(12115),a=r(85185),l=r(6101),o=r(46081),i=r(61285),s=r(5845),d=r(19178),c=r(25519),u=r(34378),f=r(28905),p=r(63655),m=r(92293),g=r(93795),h=r(38168),x=r(99708),w=r(95155),j="Dialog",[y,b]=(0,o.A)(j),[N,v]=y(j),C=e=>{let{__scopeDialog:t,children:r,open:a,defaultOpen:l,onOpenChange:o,modal:d=!0}=e,c=n.useRef(null),u=n.useRef(null),[f,p]=(0,s.i)({prop:a,defaultProp:null!=l&&l,onChange:o,caller:j});return(0,w.jsx)(N,{scope:t,triggerRef:c,contentRef:u,contentId:(0,i.B)(),titleId:(0,i.B)(),descriptionId:(0,i.B)(),open:f,onOpenChange:p,onOpenToggle:n.useCallback(()=>p(e=>!e),[p]),modal:d,children:r})};C.displayName=j;var _="DialogTrigger",D=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=v(_,r),i=(0,l.s)(t,o.triggerRef);return(0,w.jsx)(p.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":J(o.open),...n,ref:i,onClick:(0,a.m)(e.onClick,o.onOpenToggle)})});D.displayName=_;var R="DialogPortal",[I,O]=y(R,{forceMount:void 0}),P=e=>{let{__scopeDialog:t,forceMount:r,children:a,container:l}=e,o=v(R,t);return(0,w.jsx)(I,{scope:t,forceMount:r,children:n.Children.map(a,e=>(0,w.jsx)(f.C,{present:r||o.open,children:(0,w.jsx)(u.Z,{asChild:!0,container:l,children:e})}))})};P.displayName=R;var S="DialogOverlay",E=n.forwardRef((e,t)=>{let r=O(S,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,l=v(S,e.__scopeDialog);return l.modal?(0,w.jsx)(f.C,{present:n||l.open,children:(0,w.jsx)(F,{...a,ref:t})}):null});E.displayName=S;var k=(0,x.TL)("DialogOverlay.RemoveScroll"),F=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=v(S,r);return(0,w.jsx)(g.A,{as:k,allowPinchZoom:!0,shards:[a.contentRef],children:(0,w.jsx)(p.sG.div,{"data-state":J(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),L="DialogContent",A=n.forwardRef((e,t)=>{let r=O(L,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,l=v(L,e.__scopeDialog);return(0,w.jsx)(f.C,{present:n||l.open,children:l.modal?(0,w.jsx)(T,{...a,ref:t}):(0,w.jsx)(z,{...a,ref:t})})});A.displayName=L;var T=n.forwardRef((e,t)=>{let r=v(L,e.__scopeDialog),o=n.useRef(null),i=(0,l.s)(t,r.contentRef,o);return n.useEffect(()=>{let e=o.current;if(e)return(0,h.Eq)(e)},[]),(0,w.jsx)(U,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.m)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=r.triggerRef.current)||t.focus()}),onPointerDownOutside:(0,a.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,a.m)(e.onFocusOutside,e=>e.preventDefault())})}),z=n.forwardRef((e,t)=>{let r=v(L,e.__scopeDialog),a=n.useRef(!1),l=n.useRef(!1);return(0,w.jsx)(U,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,o;null==(n=e.onCloseAutoFocus)||n.call(e,t),t.defaultPrevented||(a.current||null==(o=r.triggerRef.current)||o.focus(),t.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:t=>{var n,o;null==(n=e.onInteractOutside)||n.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let i=t.target;(null==(o=r.triggerRef.current)?void 0:o.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),U=n.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=e,u=v(L,r),f=n.useRef(null),p=(0,l.s)(t,f);return(0,m.Oh)(),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.n,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,w.jsx)(d.qW,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":J(u.open),...s,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(H,{titleId:u.titleId}),(0,w.jsx)($,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Q="DialogTitle",G=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=v(Q,r);return(0,w.jsx)(p.sG.h2,{id:a.titleId,...n,ref:t})});G.displayName=Q;var M="DialogDescription",V=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=v(M,r);return(0,w.jsx)(p.sG.p,{id:a.descriptionId,...n,ref:t})});V.displayName=M;var q="DialogClose",B=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,l=v(q,r);return(0,w.jsx)(p.sG.button,{type:"button",...n,ref:t,onClick:(0,a.m)(e.onClick,()=>l.onOpenChange(!1))})});function J(e){return e?"open":"closed"}B.displayName=q;var W="DialogTitleWarning",[Z,Y]=(0,o.q)(W,{contentName:L,titleName:Q,docsSlug:"dialog"}),H=e=>{let{titleId:t}=e,r=Y(W),a="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return n.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},$=e=>{let{contentRef:t,descriptionId:r}=e,a=Y("DialogDescriptionWarning"),l="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(a.contentName,"}.");return n.useEffect(()=>{var e;let n=null==(e=t.current)?void 0:e.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(l))},[l,t,r]),null},K=C,X=D,ee=P,et=E,er=A,en=G,ea=V,el=B},73630:(e,t,r)=>{r.d(t,{Cf:()=>p,L3:()=>g,c7:()=>m,lG:()=>d,rr:()=>h,zM:()=>c});var n=r(95155),a=r(12115),l=r(15452),o=r(31900),i=r(39688),s=r(36059);let d=l.bL,c=l.l9,u=l.ZL;l.bm;let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(l.hJ,{ref:t,className:(0,i.QP)("fixed inset-0 z-50 bg-black/30 backdrop-blur-sm data-[state=open]:animate-fd-fade-in data-[state=closed]:animate-fd-fade-out",r),...a})});f.displayName=l.hJ.displayName;let p=a.forwardRef((e,t)=>{let{className:r,children:a,...d}=e;return(0,n.jsxs)(u,{children:[(0,n.jsx)(f,{}),(0,n.jsxs)(l.UC,{ref:t,className:(0,i.QP)("fixed left-1/2 top-1/2 z-50 flex flex-col gap-4 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 border bg-fd-popover p-4 shadow-lg rounded-xl duration-200 data-[state=open]:animate-fd-dialog-in data-[state=closed]:animate-fd-dialog-out focus-visible:outline-none",r),...d,children:[a,(0,n.jsx)(l.bm,{"aria-label":"Close",className:(0,i.QP)((0,s.r)({size:"icon-sm",color:"ghost"}),"absolute end-2 top-2 text-fd-muted-foreground/70"),children:(0,n.jsx)(o.X,{})})]})]})});p.displayName=l.UC.displayName;let m=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,i.QP)("flex flex-col gap-1.5 text-center sm:text-start",t),...r})};m.displayName="DialogHeader";let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(l.hE,{ref:t,className:(0,i.QP)("text-lg font-semibold leading-none tracking-tight",r),...a})});g.displayName=l.hE.displayName;let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(l.VY,{ref:t,className:(0,i.QP)("text-sm text-fd-muted-foreground",r),...a})});h.displayName=l.VY.displayName}}]);